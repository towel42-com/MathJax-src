(()=>{"use strict";var t={d:(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},e={};t.r(e),t.d(e,{ColorArrayItem:()=>g,ColortblConfiguration:()=>f});const o=("undefined"!=typeof window?window:global).MathJax._.components.global,r=(o.GLOBAL,o.isObject,o.combineConfig,o.combineDefaults,o.combineWithMathJax),a=(o.MathJax,MathJax._.input.tex.HandlerTypes),l=a.ConfigurationType,n=a.HandlerType,i=MathJax._.input.tex.base.BaseItems,s=(i.StartItem,i.StopItem,i.OpenItem,i.CloseItem,i.NullItem,i.PrimeItem,i.SubsupItem,i.OverItem,i.LeftItem,i.Middle,i.RightItem,i.BreakItem,i.BeginItem,i.EndItem,i.StyleItem,i.PositionItem,i.CellItem,i.MmlItem,i.FnItem,i.NotItem,i.NonscriptItem,i.DotsItem,i.ArrayItem),c=(i.EqnArrayItem,i.MstyleItem,i.EquationItem,MathJax._.input.tex.Configuration),m=c.Configuration,d=c.ConfigurationHandler,h=(c.ParserConfiguration,MathJax._.input.tex.TokenMap),p=(h.parseResult,h.AbstractTokenMap,h.RegExpMap,h.AbstractParseMap,h.CharacterMap,h.DelimiterMap,h.MacroMap,h.CommandMap),u=(h.EnvironmentMap,MathJax._.input.tex.TexError.default);class g extends s{constructor(){super(...arguments),this.color={cell:"",row:"",col:[]},this.hasColor=!1}EndEntry(){super.EndEntry();const t=this.row[this.row.length-1],e=this.color.cell||this.color.row||this.color.col[this.row.length-1];e&&(t.attributes.set("mathbackground",e),this.color.cell="",this.hasColor=!0)}EndRow(){super.EndRow(),this.color.row=""}createMml(){const t=super.createMml();let e=t.isKind("mrow")?t.childNodes[1]:t;if(e.isKind("mstyle")&&(e=e.childNodes[0].childNodes[0]),e.isKind("menclose")&&(e=e.childNodes[0].childNodes[0]),this.hasColor){const t=e.attributes;"none"===t.get("frame")&&void 0===t.get("data-frame-styles")&&t.set("data-frame-styles","")}return t}}function b(t,e,o){const r=t.configuration.packageData.get("color").model,a=t.GetBrackets(e,""),l=r.getColor(a,t.GetArgument(e)),n=t.stack.Top();if(!(n instanceof g))throw new u("UnsupportedTableColor","Unsupported use of %1",t.currentCS);if("col"===o){if(n.table.length&&n.color.col[n.row.length]!==l)throw new u("ColumnColorNotTop","%1 must be in the top row or preamble",e);n.color.col[n.row.length]=l,t.GetBrackets(e,"")&&t.GetBrackets(e,"")}else if(n.color[o]=l,"row"===o&&(n.Size()||n.row.length))throw new u("RowColorNotFirst","%1 must be at the beginning of a row",e)}new p("colortbl",{cellcolor:[b,"cell"],rowcolor:[b,"row"],columncolor:[b,"col"]});const f=m.create("colortbl",{[l.HANDLER]:{[n.MACRO]:["colortbl"]},[l.ITEMS]:{array:g},[l.PRIORITY]:10,[l.CONFIG]:[function(t,e){e.parseOptions.packageData.has("color")||d.get("color").config(t,e)},10]});MathJax.loader&&MathJax.loader.checkVersion("[tex]/colortbl","4.0.0","tex-extension"),r({_:{colortbl:{ColortblConfiguration:e}}})})();